# Project Summary
The Package QR Code Manager is an advanced logistics and inventory management application that leverages QR code technology to improve operational efficiency and enhance customer interaction. It features real-time package tracking, an interactive analytics dashboard, dual status scanning, bulk QR code generation, and attendance management, all supported by Supabase for reliable data management. Recent updates have streamlined the user interface and improved functionalities, particularly in worker management.

# Project Module Description
The application consists of several functional modules:
- **Dashboard**: Displays analytics and insights on package statuses and worker performance.
- **Dual Status Scanner**: Validates and scans packages for "packed" and "shipped" statuses.
- **Create QR Code Form**: Generates QR codes with packer information.
- **HTML5 QR Code Scanner**: Enables live scanning and file uploads using the Html5-QRCode library.
- **Package List**: Shows packages with filtering, sorting, and multi-selection capabilities.
- **Bulk QR Code Generator**: Allows for the creation of multiple QR codes with customizable options and supports labor management and Excel export.
- **Attendance Management**: Tracks worker attendance, manages overtime, and allows for marking of absence or half-day statuses, with improved deletion functionality.
- **CSV Export**: Exports QR codes to CSV format.
- **Supabase Integration**: Handles QR code data and attendance with cloud storage.
- **Authentication System**: Implements secure password-based authorization.
- **Debug Tools**: Resets QR codes to "pending" status.
- **Update Package Details**: Updates package details in the database.
- **Status Migration Utility**: Migrates statuses upon application load.

# Directory Tree
```
shadcn-ui/
├── README.md                # Project overview and setup instructions
├── components.json          # Component metadata
├── eslint.config.js         # ESLint configuration
├── index.html               # Main HTML file
├── package.json             # Project dependencies and scripts
├── postcss.config.js        # PostCSS configuration
├── public/                  # Public assets
│   ├── favicon.svg          # Application favicon
│   └── robots.txt           # Robots.txt file for SEO
├── src/                     # Source code
│   ├── App.css              # Global styles
│   ├── App.tsx              # Main application component with tabs structure
│   ├── components/          # UI components
│   │   ├── attendance-management.tsx  # Component for managing worker attendance
│   │   ├── barcode-generator.tsx      # Enhanced barcode generator component with bulk functionality
│   │   ├── dashboard.tsx       # Dashboard component with analytics and charts
│   │   ├── dual-status-scanner.tsx    # Component for dual status scanning
│   │   ├── delivered-scanner.tsx       # Component for marking packages as delivered
│   │   ├── barcode-list.tsx            # Component for displaying QR codes
│   │   ├── bulk-barcode-generator.tsx   # Bulk QR code generation component
│   │   ├── create-barcode-form.tsx     # Form for creating new QR codes
│   │   ├── csv-export.tsx               # Component for exporting QR codes to CSV
│   │   ├── html5-qr-scanner.tsx        # Updated scanner component
│   │   ├── camera-debug.tsx             # Camera debug component
│   │   ├── reset-qr-codes.tsx          # Component for resetting QR codes
│   │   └── layout/                      # Layout components
│   ├── contexts/                        # Context for authentication
│   ├── hooks/                           # Custom hooks
│   ├── lib/                             # Utility functions and libraries
│   │   ├── attendance-utils.ts          # Updated utility functions for attendance management
│   │   ├── supabase-attendance-storage.ts # New Supabase storage for attendance and worker data
│   ├── pages/                           # Application pages
│   ├── types.ts                         # TypeScript types
│   └── vite-env.d.ts                    # Vite environment types
├── tailwind.config.ts                   # Tailwind CSS configuration
├── template_config.json                 # Template configuration
├── tsconfig.*                           # TypeScript configuration files
└── vite.config.ts                       # Vite configuration
```

# File Description Inventory
- **README.md**: Overview and setup instructions for the project.
- **components.json**: Metadata about the components used in the application.
- **eslint.config.js**: Configuration file for ESLint to maintain code quality.
- **index.html**: Entry point of the application.
- **package.json**: Lists project dependencies and scripts for building and running the application.
- **postcss.config.js**: Configuration for PostCSS.
- **public/**: Directory for public assets such as images and robots.txt.
- **src/**: Main source code directory containing application logic, components, hooks, and styles.
- **attendance-management.tsx**: Component for managing worker attendance, now with simplified navigation and improved functionality.
- **barcode-generator.tsx**: Enhanced component for generating barcodes, now includes bulk generation functionality and improved assignment logic.
- **dashboard.tsx**: Component for displaying the dashboard with analytics and charts.
- **supabase-attendance-storage.ts**: New file for Supabase storage functions related to attendance and worker management.
- **attendance-utils.ts**: Updated utility functions integrating Supabase for attendance and worker management.

# Technology Stack
- **TypeScript**: For type safety and modern JavaScript features.
- **React**: For building user interfaces.
- **Vite**: A build tool for fast development.
- **Tailwind CSS**: For utility-first CSS styling.
- **PostCSS**: For transforming CSS with JavaScript plugins.
- **ESLint**: For linting and maintaining code quality.
- **html5-qrcode**: Library for improved QR code scanning and camera handling.
- **Supabase**: For cloud database management and user authentication.
- **xlsx**: Library for exporting data to Excel format.
- **qrcode.react**: Library for QR code generation in React components.
- **recharts**: For rendering charts and analytics.

# Usage
1. **Install Dependencies**: Run the command to install the necessary dependencies.
2. **Build the Project**: Use the appropriate script to build the application.
3. **Run the Application**: Execute the command to start the application.
4. **Authentication**: 
   - On first visit, a login dialog appears automatically.
   - For full access, enter the password `admin123` and click "Login with Password".
   - For scanning only, click "Continue with Scan Only".
   - To switch modes, use the "Change Access" button in the top-right corner.
5. **Debugging**: 
   - Navigate to the "Debug" tab to access the reset functionality.
   - Click "Reset All QR Codes to Pending" to reset the status of all QR codes.
6. **Update Package Details**: 
   - Scan a QR code with "pending" status.
   - The Update Package Details dialog should appear.
   - Enter weight and packer name.
   - Click "Update Status" to update the status to "packed".
7. **Mark as Delivered**: 
   - Use the Delivered Status Scanner to scan QR codes for packages and mark them as delivered.
8. **Export QR Codes**: 
   - Utilize the Excel export feature in the bulk QR code generator to download all QR codes or recently generated codes in a well-formatted Excel file.
   - The export will include an "Assigned Worker" column if applicable.
9. **Dashboard Analytics**: 
   - Access the Scan tab to view analytics on pending and packed QR codes by worker.
   - Check the Lists section for shipped QR codes by location over the last 10 days.
10. **Fix Unassigned Worker Names**: 
    - Ensure QR codes are assigned to workers via the Bulk QR Code Generator to reflect accurate worker names in the charts.
11. **Attendance Management**:
    - Access the Attendance tab to manage worker attendance and mark their status.
    - Workers are present by default unless marked absent or half-day.
    - Use the overtime toggle to manage overtime status, which persists unless toggled off.
12. **Packer Designation**:
    - Workers can be designated as packers using a toggle in the attendance management system.
    - Barcodes are assigned only to workers who are designated as packers and present.
13. **Delete Worker**:
    - Click the trash icon in the Actions column to initiate deletion.
    - Confirm deletion in the dialog to remove the worker and all associated attendance records.
